{% extends 'base.html' %}

{% block title %} 
    <title> Edit Workspace </title> 
{% endblock %}

{% block styles %}
{% endblock %} 

{% block content %}
    <div class="flex flex-col justify-center items-center gap-8 h-full bg-bg-theme">
        
        <div class="text-center text-lg font-bold">
            {%  with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        {% if category == 'success-msg' %}
                            <span class="text-green-500" id="message-text"> {{ message }} </span>
                        {% else %}
                            <span class="text-red-700" id="message-text"> {{ message }} </span>
                        {% endif %}
                        
                    {% endfor %}
                {% else %}
                    <span id="message-text"></span>
                {% endif %}
            {% endwith %}
        </div>
        
        <div class="bg-white border-2 border-black w-3/4 h-2/4 rounded-xl shadow-2xl flex flex-col flex-wrap p-5">
            
            <h1 class ="text-5xl font-bold">Edit Workspace</h1>
            <hr class="bg-black border-2 border-black my-3">

            <form action="{{ url_for('adminRoutes.edit_workspace', workspace_id = workspace_id) }}" method="POST">
                {{updateWorkspaceNameForm.csrf_token}}
                {{updateWorkspaceNameForm.workspace_name.label()}}
                {{updateWorkspaceNameForm.workspace_name()}}

                {{updateWorkspaceNameForm.submit()}}
            </form>

            <form action="{{url_for('adminRoutes.add_member', workspace_id=workspace_id)}}" method="POST">
                {{new_member_form.csrf_token}}
                {{new_member_form.email_address.label()}}
                {{new_member_form.email_address()}}

                {{new_member_form.submit()}}
            </form>

            {% for member in current_workspace_members %}
                <form action="{{url_for('adminRoutes.edit_workspace', workspace_id=workspace_id)}}" method="POST">
                    <span> {{ member }} </span>

                </form>
            {% endfor %}

        </div>
    </div>
{% endblock %}